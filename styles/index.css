@tailwind base;
@tailwind components;
@tailwind utilities;

/* 字体优化 - 兼容性优�?*/
@layer base {
  html {
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  }

  /* 确保最佳渲染效�?*/
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@supports (font: -apple-system-body) and (-webkit-appearance: none) {
  img[loading="lazy"] {
    clip-path: inset(0.6px);
  }
}

/* 移动端文字优�?- 针对性修�?*/
@media (max-width: 640px) {
  /* 基础文字优化 */
  p, li, div {
    line-height: 1.6;
    word-break: break-word;
  }
  
  /* 标题优化 */
  h1, h2, h3, h4 {
    line-height: 1.3;
    margin-bottom: 0.75rem;
  }
  
  /* 列表间距优化 */
  ol, ul {
    padding-left: 1.25rem;
  }
  
  ol li, ul li {
    margin-bottom: 0.6rem;
    line-height: 1.6;
    padding-left: 0.25rem;
  }
  
  /* 文字间距微调 - 最小干�?*/
  p {
    text-align: left;
  }
  
  /* 专门修复prose容器内的排版问题 */
  .prose h2 {
    line-height: 1.3 !important;
    word-break: break-word !important;
    text-align: left !important;
  }
  
  .prose p,
  .prose li {
    text-align: left !important;
    line-height: 1.6 !important;
    word-break: break-word !important;
  }
  
  /* 覆盖prose容器的强制对�?*/
  .prose {
    text-align: left !important;
  }
}

.app-shell ins.adsbygoogle:not([data-anchor-status]) {
  display: block !important;
  width: 100% !important;
  min-height: 280px;
  transition: none !important;
  contain: layout size;
}

.app-shell ins.adsbygoogle[data-ad-status="filled"]:not([data-anchor-status]) {
  min-height: auto;
}

ins.adsbygoogle[data-anchor-status] {
  min-height: auto !important;
  height: auto !important;
}

.manual-sidebar-ad {
  position: fixed;
  top: 120px;
  width: 260px;
  max-width: 100%;
  z-index: 40;
}

.manual-sidebar-ad--left {
  left: 24px;
}

.manual-sidebar-ad--right {
  right: 24px;
}

@media (max-width: 1600px) {
  .manual-sidebar-ad--left {
    left: 12px;
  }

  .manual-sidebar-ad--right {
    right: 12px;
  }
}

@media (max-width: 1400px) {
  .manual-sidebar-ad {
    display: none;
  }
}

:root {
  --side-rail-space-single: clamp(240px, 22vw, 340px);
  --side-rail-space-double: clamp(200px, 18vw, 300px);
}

.app-shell {
  transition: padding 0.35s ease;
}

body.side-rail-active {
  overflow-x: hidden;
}

body.side-rail-left-active .app-shell,
.app-shell.side-rail-left-active {
  padding-left: var(--side-rail-space-single);
}

body.side-rail-right-active .app-shell,
.app-shell.side-rail-right-active {
  padding-right: var(--side-rail-space-single);
}

body.side-rail-left-active.side-rail-right-active .app-shell,
.app-shell.side-rail-left-active.side-rail-right-active {
  padding-left: var(--side-rail-space-double);
  padding-right: var(--side-rail-space-double);
}

@media (max-width: 1400px) {
body.side-rail-left-active .app-shell,
.app-shell.side-rail-left-active {
  padding-left: clamp(200px, 20vw, 260px);
}

body.side-rail-right-active .app-shell,
.app-shell.side-rail-right-active {
  padding-right: clamp(200px, 20vw, 260px);
}

body.side-rail-left-active.side-rail-right-active .app-shell,
.app-shell.side-rail-left-active.side-rail-right-active {
  padding-left: clamp(180px, 18vw, 240px);
  padding-right: clamp(180px, 18vw, 240px);
}
}

@media (max-width: 1280px) {
body.side-rail-left-active .app-shell,
.app-shell.side-rail-left-active {
  padding-left: 160px;
}

body.side-rail-right-active .app-shell,
.app-shell.side-rail-right-active {
  padding-right: 160px;
}

body.side-rail-left-active.side-rail-right-active .app-shell,
.app-shell.side-rail-left-active.side-rail-right-active {
  padding-left: 150px;
  padding-right: 150px;
}
}

@media (max-width: 1100px) {
body.side-rail-left-active .app-shell,
body.side-rail-right-active .app-shell,
body.side-rail-left-active.side-rail-right-active .app-shell,
.app-shell.side-rail-left-active,
.app-shell.side-rail-right-active,
.app-shell.side-rail-left-active.side-rail-right-active {
  padding-left: 0;
  padding-right: 0;
}
}

